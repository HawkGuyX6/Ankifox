<HTML>
<HEAD>
<TITLE>Select Dictionary</TITLE>

<script type="text/javascript">
	"use strict";
	Components.utils.import("resource://gre/modules/Services.jsm");

	function changedict (selindex) {
		if (selindex > 0) {
			var element = document.createElement("AnkifoxDataElement");
			element.setAttribute("seltempdict", selindex);
			document.documentElement.appendChild(element);

			var evt = document.createEvent("Events");
			evt.initEvent("changeseldict", true, false);
			element.dispatchEvent(evt);
		}
	}

	function loaddictlist () {
		var prefs = Services.prefs.getBranch("extensions.ankifox.");
		
		document.getElementById("dict1").text = prefs.getCharPref("dicname1");
		document.getElementById("dict2").text = prefs.getCharPref("dicname2");
		document.getElementById("dict3").text = prefs.getCharPref("dicname3");
		document.getElementById("dict4").text = prefs.getCharPref("dicname4");
	}
</script>
</head>

<body onload="loaddictlist();">
<form action="">
<label for="tempdict">Quick search with: </label>
<select id="tempdict" onchange="changedict(this.selectedIndex)">
<option id="dict0">...</option>
<option id="dict1">Dictionary 1</option>
<option id="dict2">Dictionary 2</option>
<option id="dict3">Dictionary 3</option>
<option id="dict4">Dictionary 4</option>
</select>
</form>

</body>
</HTML>
